<!DOCTYPE html>
<html>
  <head>
    <!-- 文字コードをUTF-8に設定 -->
    <meta charset="UTF-8" />
    <!-- タイトル -->
    <title>設定ページの例</title>
    <!-- 簡易CSS -->
    <style>
      /* モーダルの背景を半透明にして中央表示する */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: none; /* 初期は非表示 */
        justify-content: center;
        align-items: center;
      }
      /* モーダルの内容をカード風に */
      .modal-content {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        min-width: 300px;
      }
      /* テーブルの罫線などの設定 */
      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }
      table,
      th,
      td {
        border: 1px solid #ccc;
      }
      th,
      td {
        padding: 8px;
        text-align: left;
      }
      /* ボタン置き場を右寄せ */
      .modal-actions {
        text-align: right;
      }
    </style>
  </head>
  <body>
    <!-- 設定を開くボタン -->
    <button id="open-settings-btn">設定を開く</button>

    <!-- モーダルのオーバーレイ -->
    <div class="modal-overlay" id="settings-modal">
      <div class="modal-content">
        <h2>設定</h2>

        <!-- 積載上限入力欄 -->
        <label for="maxLoadInput">積載上限:</label>
        <input type="number" id="maxLoadInput" min="0" />
        <hr />

        <!-- 都市別設定 -->
        <h3>都市別設定</h3>
        <table>
          <thead>
            <tr>
              <th>都市名</th>
              <th>税率(%)</th>
              <th>販売個数倍率(%)</th>
              <th>特産品販売個数倍率(%)</th>
            </tr>
          </thead>
          <tbody id="city-setting-table-body">
            <!-- JavaScriptで行を動的生成 -->
          </tbody>
        </table>
        <hr />

        <!-- 商品別設定 -->
        <h3>商品別設定 (life_skill.csv)</h3>
        <table>
          <thead>
            <tr>
              <th>商品名</th>
              <th>軽減税率(%)</th>
              <th>販売個数倍率(%)</th>
            </tr>
          </thead>
          <tbody id="product-setting-table-body">
            <!-- JavaScriptで行を動的生成 -->
          </tbody>
        </table>
        <hr />

        <!-- 交渉設定 -->
        <h3>交渉設定</h3>
        <table>
          <thead>
            <tr>
              <th></th>
              <th>設定値</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>初期交渉%</td>
              <td><input type="number" id="initialNegotiationRate" /></td>
            </tr>
            <tr>
              <td>初期交渉成功率(%)</td>
              <td><input type="number" id="initialSuccessRate" /></td>
            </tr>
            <tr>
              <td>初期交渉疲労値</td>
              <td><input type="number" id="initialFatigue" /></td>
            </tr>
            <tr>
              <td>疲労値の増加量</td>
              <td><input type="number" id="fatigueIncrement" /></td>
            </tr>
            <tr>
              <td>変動幅(成功時 交渉%増加)(%)</td>
              <td><input type="number" id="negotiationIncrement" /></td>
            </tr>
            <tr>
              <td>交渉上限回数</td>
              <td><input type="number" id="maxNegotiations" /></td>
            </tr>
            <tr>
              <td>交渉%の上限(%)</td>
              <td><input type="number" id="negotiationRateLimit" /></td>
            </tr>
            <tr>
              <td>失敗時加算成功率(%)</td>
              <td><input type="number" id="failBonusSuccess" /></td>
            </tr>
            <tr>
              <td>初回成功率加算(%)</td>
              <td><input type="number" id="firstTimeBonusSuccess" /></td>
            </tr>
          </tbody>
        </table>

        <!-- ボタン配置 -->
        <div class="modal-actions">
          <button id="save-settings-btn">保存</button>
          <button id="close-settings-btn">閉じる</button>
        </div>
      </div>
    </div>

    <!-- 設定スクリプト（script.jsとは別ファイル） -->
    <script type="module" src="settings.js"></script>
  </body>
</html>
